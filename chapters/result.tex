
\فصل{ارزیابی}
\label{result}
روش پیاده‌سازی شده در این پژوهش را می‌توان از نظر ساختار آن، در دسته‌ی پژوهش‌های مبتنی بر تحلیل ایستا قرار داد. یکی از آخرین پژوهش‌های موجود در این دسته، روشی است که توسط آقای ترکی\مرجع{msctorki} مبتنی بر تحلیل گراف فراخوانی کلاسی\پاورقی{Class Call Graph} و استخراج امضا از کلاس‌های برنامک ارائه شده‌است. پژوهش آقای ترکی\مرجع{msctorki} در ادامه‌ی پژوهش آقای وانگ\مرجع{phdwang} و به جهت بهبود دقت آن انجام شده‌است. از آن‌جایی که هدف این پژوهش افزایش کارایی پژوهش‌های مرتبط با تشخیص برنامک‌های بازبسته‌بندی شده می‌باشد، بنابراین در این فصل روش پیشنهادی را از دو منظر سرعت تشخیص و معیار‌های دقت\پاورقی{Precision} و فراخوان\پاورقی{Recall} بررسی خواهیم کرد و قسمتی از پژوهش را به مقایسه‌ی راهکار پیشنهادی این پژوهش با آخرین روش مشابه اختصاص خواهیم‌داد. در ادامه‌ی ارزیابی، معیار‌های دقت و فراخوان را به صورت زیر تعریف می‌کنیم. منظور از $TP,FP,FN$ به ترتیب تعداد منفی‌ غلط\پاورقی{False Negative}، مثبت غلط \پاورقی{False Positive}و مثبت‌صحیح\پاورقی{True Positive}، می‌باشد. منظور از منفی‌غلط، حالتی است که در آن جفت‌بازبسته‌بندی شده به اشتباه تشخیص داده‌ نمی‌شود. مثبت‌غلط، حاصل از تشخیص بازبسته‌بندی برای یک جفت بازبسته‌بندی نشده و مثبت‌صحیح، زمانی است که ما جفت بازبسته‌بندی شده را به درستی تشخیص می‌دهیم.
\begin{equation}
	‫‪Precision‬‬	= \frac{TP}{TP+FP}
\end{equation}
\begin{equation}
		Recall = \frac{TP}{TP+FN}
\end{equation}

در ادامه‌ی این فصل ابتدا پارامتر‌های ثابت موجود در الگوریتم‌های ارائه‌شده در این پژوهش را عنوان و مقدار آن‌ها را به ازا‌ی ارزیابی‌های انجام‌شده، اعلام می‌کنیم. سپس مجموعه‌‌ی داده‌ای مورد ارزیابی در این پژوهش و ویژگی‌های آن را بررسی خواهیم‌کرد. سپس ارزیابی راهکار پیشنهادی پژوهش را از دو دیدگاه انجام می‌دهیم. در قسمت اول، ابتدا معیار‌های ارزیابی را در مقایسه‌ی دودویی برنامک‌های اندرویدی، بر روی مجموعه‌ی داده\پاورقی{Data Set} بررسی می‌کنیم. اجرای ارزیابی با توجه به ایده‌ی مطروحه در مرحله‌ی تشکیل امضا و مقایسه‌ی آن با پژوهش پیشین انجام می‌گیرد. در قسمت دوم، ارزیابی پژوهش با استفاده از افزودن الگوریتم‌ طبقه‌بندی نزدیک‌ترین همسایه انجام می‌گیرد و مقایسه‌ی دودویی با استفاده از کاهش فضای مقایسه‌، به عنوان ایده‌ی اصلی این پژوهش مطرح می‌گردد.

\قسمت{پارامترهای پژوهش}
در این قسمت پارامتر‌های ثابت استفاده شده در رویه‌های مشروح در فصل \ref{ourwork}
را بررسی و مقدار هر کدام را برای اجرای ارزیابی‌ پژوهش را عنوان می‌کنیم.
\زیرقسمت{مولفه‌ی تشخیص کتابخانه‌های اندرویدی}
 برای تحلیل ایستا‌ی برنامک‌های اندرویدی و تشکیل امضای کلاسی، از چارچوب سوت استفاده شده‌است. چارچوب سوت ابزاری‌ مبتنی بر زبان جاوا است که اجازه‌ی تحلیل برنامک‌های اندرویدی و استخراج ویژگی‌های گوناگون کد‌پایه\پاورقی{Code Base} از آن را به کاربران می‌دهد. در قسمت تشکیل امضای کلاس‌های کتابخانه‌ای و استخراج ویژگی‌های مذکور در فصل
\ref{ourwork}
از این ابزار استفاده شده‌‌است.\\
در قسمت مقایسه‌‌ی امضا‌ی کلاسی به منظور یافتن کلاس‌های کاندید و تشکیل نگاشت میان کلاس‌های کتابخانه‌ای و کلاس‌ها‌ی برنامک و همچنین مقایسه‌ی امضای نهایی برنامک‌های اندرویدی، از روش‌‌های چکیده‌سازی محلی استفاده شده‌است. به جهت ارزیابی روش پژوهش، از سه شمای\پاورقی{schema} چکیده‌سازی محلی، شامل روش‌های $TLSH,SSdeep$ و $Sdhash$ استفاده شده‌است. در قسمت ارزیابی مقایسه‌ی دودویی، به تفضیل به مقایسه‌ی دقت و زمان محاسبه‌ی چکیده در این سه روش خواهیم پرداخت.\\
در ادامه، پارامتر‌های ثابت استفاده‌شده در مؤلفه‌ی تشخیص کد‌های کتابخانه‌ای را بررسی و مقدار ثابت‌ آن‌ها را توضیح می‌دهیم.
\شروع{فقرات}
\فقره{\مهم{پارامتر $Thr_L$}}: پارامتر مذکور به عنوان پارامتر ثابت در ماژول فیلتر طول امضا، به‌جهت فیلتر کلاس‌‌های کاندید مبتنی بر طول کلاس هدف استفاده شده‌است. مقدار این پارامتر بر اساس طول کلاس هدف و بر اساس ضریبی از آن محاسبه می‌شود که روال محاسبه‌ی آن در الگوریتم ~\رجوع{الگوریتم: محاسبه‌ی $T_L$} مشاهده می‌شود.

\شروع{الگوریتم}{محاسبه‌ی $T_L$}
\ورودی کلاس هدف در فیلتر طولی $T_C$
\خروجی مقدار $T_L$ مبتنی بر طول امضای کلاس هدف
\دستور قرار بده 
$L=length(Sig_{Tc})$
\اگر{$L \leq 1000$}
\دستور
$T_{L} = L \times 0.6$
\وگر{$L \leq 5000$}
\دستور
$T_{L} = L \times 0.5$
\وگر{$L \leq 10000$}
\دستور
$T_{L} = L \times 0.4$
\وگر{$L \leq 50000$}
\دستور
$T_{L} = L \times 0.3$
\وگر{$L \leq 100000$}
\دستور
$T_{L} = L \times 0.2$
\وگرنه
\دستور
$T_{L} = L \times 0.2$

\پایان‌اگر\\
\برگردان $T_{L}$
\پایان{الگوریتم}
\فقره{\مهم{پارامتر $Thr_F$}}: مقدار این پارامتر در ماژول فیلتر کتابخانه‌ها به عنوان حد کمینه برای تشابه میان کلاس‌های کتابخانه‌ای و برنامک استفاده می‌شود که به جهت ارزیابی در این پژوهش مقدار ۷۰ گرفته‌است.
\فقره{\مهم{پارامتر $Thr_S$}}: این پارامتر به جهت حد کمینه‌ی تشابه میان کلاس‌های کتابخانه‌ای و برنامک به منظور ایجاد نگاشت استفاده می‌شود که مقدار آن برابر ۵۰ قرار داده‌شده است.
\فقره{\مهم{پارامتر $N$}}: مقدار این پارامتر در ماژول فیلتر کتابخانه‌ها، برای تعیین تعداد کلاس‌های کتابخانه‌ای استفاده می‌شود که برابر ۱ قرار گرفته‌است.
\پایان{فقرات}


\زیرقسمت{مؤلفه‌ی یافتن نزدیک‌ترین همسایه}
در ماژول استخراج ویژگی به جهت ایجاد بردار‌های ویژگی برای هر برنامک، از نرم‌افزار $apktool$ به جهت انجام دیس‌اسمبل فایل‌های $apk$ استفاده شده‌است. $apktool$ ابزار قدرتمندی است که اجازه‌ی انجام عملیات مهندسی معکوس\پاورقی{Reverse Engineering} و دستیابی به کداصلی برنامک‌های اندرویدی را ممکن می‌سازد.
\شروع{فقرات}
\فقره{\مهم{پارامتر $K$}}: مقدار این پارامتر مشخص‌کننده‌ی تعداد همسایه‌های نزدیک به برنامک هدف می‌باشد که به جهت ارزیابی با توجه به مجموعه‌‌ی داده‌ی آزمون، مقدار برای ۲۵۰ برای آن در نظر گرفته شده‌‌است.
\پایان{فقرات}


\زیرقسمت{مؤلفه‌ی مقایسه‌ی دودویی و تشخیص برنامک‌های بازبسته‌بندی شده}
در این مولفه برای مقایسه‌ی امضای نهایی برنامک‌های اندرویدی با استفاده از چکیده‌سازی محلی، از سه کتابخانه‌ی پایتونی $Tlsh$, $Fuzzyhashlib$,$ssdeep$ استفاده‌شده‌است. 

\شروع{فقرات}
\فقره{\مهم{پارامتر $Thr_{c}$}}: این پارامتر حد بیشینه و یا کمینه را با توجه به روش مورد استفاده‌ در قسمت چکیده‌سازی مشخص می‌کند. مقدار حد کمینه برای روش‌های چکیده‌سازی محلی $sdhash$ , $ssdeep$، عدد ۷۰ و برای روش $tlsh$ مقدار بیشینه‌ی ۶۰ در نظر گرفته‌شده است.
\پایان{فقرات}



\قسمت{مجموعه‌ داده‌ی آزمون}
در قسمت تشخیص کد‌های کتابخانه‌ای، با استفاده از جمع‌آوری کتابخانه‌های مشهور و استفاده از مخزن کتابخانه‌های پژوهش آقای وانگ\مرجع{phdwang} (شامل ۴۵۱ کتابخانه) در نهایت مخزنی از ۸۷۷ کتابخانه‌ی اندرویدی ساخته‌شد. مخزن کتابخانه‌های مورد استفاده در پژوهش آقای ترکی \مرجع{msctorki}، همان مخزن کتابخانه‌ای در پژوهش آقای وانگ می‌باشد. پس از بررسی و ارزیابی‌های اولیه‌ی استخراج کد‌های کتابخانه‌ای در این پژوهش متوجه شدیم که بخشی از کتابخانه‌های اندرویدی شناسایی نمی‌شود. بنابراین با افزایش تعداد کتابخانه‌های مخزن، توانستیم مجموعه‌ داده‌ی آزمون استفاده شده در این پژوهش را بهبود ببخشیم.

به جهت ارزیابی تشخیص برنامک‌های بازبسته‌بندی شده، از داده‌ی آزمون جمع‌آوری شده در پژوهش اندروزو\پاورقی{Androzoo}\مرجع{androzoo} استفاده شده‌است. این مجموعه‌ داده‌‌ی آزمون شامل ۱۵۰۰۰ جفت بازبسته‌بندی شده است که از مجموعه‌ی ۲۲ میلیون برنامک اندرویدی استخراج شده‌است. برای ساخت داده‌ی آزمون پژوهش، ۷۹۶ جفت بازبسته‌بنده شده و ۴۰۰ جفت برنامک‌های غیر تقلبی از میان این مجموعه استفاده شده‌است. همچنین مجموعه‌ی داده‌ی آزمون پژوهش شامل ۱۱۸۱ برنامک اندرویدی است که جفت‌های تقلبی و غیر تقلبی را تشکیل می‌دهند.


\قسمت{ارزیابی و مقایسه}
از آن‌جایی که هدف این پژوهش افزایش کارایی تشخیص برنامک‌های اندرویدی بازبسته‌بندی شده‌است. بنابراین در این قسمت، ابتدا مقایسه‌ای از روش‌های چکیده‌سازی محلی از نظر زمان اجرا و دقت تشخیص، به صورت دودویی خواهیم داشت و دلایل بهبود این روش را نسبت به روش پیشین بررسی خواهیم کرد. در قسمت بعدی ایده‌ی اصلی پژوهش یعنی استفاده از طبقه‌بندی نزدیک‌ترین همسایه برای کاهش فضای مقایسه‌ را مورد ارزیابی قرار می‌دهیم.

به جهت پیاده‌سازی الگوریتم‌های سه مولفه‌ی تشخیص کد‌های کتابخانه‌ای، طبقه‌بندی نزدیک‌ترین همسایه و تشخیص برنامک‌های بازبسته‌بندی از زبان پایتون استفاده‌شده است. همچنین به جهت مقایسه‌ی امضای کلاس‌ها و امضای برنامک‌های اندرویدی از سه کتابخانه‌ی  $Tlsh$, $Fuzzyhashlib$,$ssdeep$ در زبان پایتون استفاده شده‌است. ارزیابی‌های پژوهش در ماشینی با پردازنده‌ی $Core i5- 10400$ و $32G$ حافظه‌ی $Ram$ اجرا شده‌است.  
\زیرقسمت{مقایسه‌ی دودویی بدون طبقه‌بندی}
\label{pairwisepure}
با بررسی روش پیشین پیاده‌سازی شده در پژوهش آقای ترکی، دریافتیم که به صورت کلی این پژوهش را از دو جنبه‌ی متفاوت می‌توان بهبود بخشید. امضای‌ متد در پژوهش آقای ترکی، حاوی مقادیر زیادی افزونگی ناشی از اضافه‌نمودن امضای کلاس در خروجی و ورودی متد‌ها می‌باشد به همین علت طول امضا در برخی از برنامک‌های اندرویدی مخزن از نیم میلیون کاراکتر نیز فراتر رفته‌است. ایجاد افزونگی در امضای متد منجر به افزایش قابل توجه طول امضای کلاسی می‌شود. \\
به دلیل افزایش افزونگی در امضای کلاسی، تعداد کلاس‌های کاندید ناشی از اعمال الگوریتم‌های ساختاری و طولی افزایش یافته و موجب افزایش گره‌های گراف دوبخشی در حل مسأله‌ی تخصیص در ماژول نگاشت کلاس‌های کتابخانه‌ای و برنامک می‌گردد.  از آن‌جایی که حل مسئله‌ی تخصیص در گراف‌های دوبخشی از مرتبه‌ی زمانی $n^3$
است بنابراین افزایش تعداد گره‌های گراف دوبخشی حاصل منجر به کاهش سرعت قابل توجه در این پژوهش می‌شود. بنابراین در قسمت تشکیل امضا در این پژوهش، توانستیم با اضافه‌نمودن ویژگی‌های ثانویه و مورد نیاز،‌ نظیر توابع فراخوانی‌شده در بدنه‌ی کلاس، تا حدودی افزونگی موجود در این پژوهش را مرتفع سازیم به طوری که ارزیابی حاصل از اعمال امضا‌ی جدید، دقت خوبی داشته‌باشد. \\
 \شروع{شکل}[H]
\centerimg{mine_pairwise_total}{12cm}
\vspace{1em}
\شرح{مقایسه‌ی میانگین زمان اجرای روال تشخیص برنامک‌های بازبسته‌بندی شده }
\برچسب{شکل:مقایسه‌همه}
\پایان{شکل}


 همانطور که در شکل ~\رجوع{شکل:مقایسه‌همه} مشاهده می‌شود، با مقایسه‌ی میانگین زمان لازم برای اجرای تشخیص بازبسته‌بندی از مرحله‌ی ابتدایی تشخیص کد‌های کتابخانه‌ای تا انتها بر روی ۷۹۶ جفت بازبسته‌بندی شده و ۴۰۰ جفت غیر تقلبی، به ازای ۳ روش‌های چکیده‌سازی محلی، می‌توان متوجه شد که روش $ssdeep$ دقت بالاتری نسبت به باقی روش‌ها دارد چرا که میانگین زمان اجرای روال تشخیص بازبسته‌بندی به ازای برنامک‌های داخل مخزن، از تمامی روش‌های دیگر بهتر است. از طرفی با مقایسه‌ی نمودار‌های ~\رجوع{شکل:مقایسه‌لیب} و ~\رجوع{شکل:مقایسه‌بقیه} مشخص می‌شود که عمده‌ی زمان اجرا مختص تشخیص کتابخانه‌های اندرویدی است چرا که در این مرحله از تشخیص، یک مسأله‌ی گرافی با مرتبه‌ی بالایی حل می‌شود. بنابراین می‌توان نتیجه‌گرفت که با بهبود امضای برنامک‌های اندرویدی و در نتیجه حذف افزونگی موجود در پژوهش ترکی، می‌توان سرعت تشخیص را به صورت قابل توجهی افزایش داد چرا که با جذف این افزونگی‌ها، گره‌های حاصل از گراف دوبخشی کاهش یافته و مسأله‌ی گرافی با سرعت بالاتری حل می‌شود.
 
 
  \شروع{شکل}[H]
 \centerimg{mine_pairwise_lib}{12cm}
 \vspace{1em}
 \شرح{مقایسه‌ی میانگین زمان اجرای مرحله‌ی تشخیص کد‌های کتابخانه‌ای}
 \برچسب{شکل:مقایسه‌لیب}
 
 \پایان{شکل}
 در نهایت با حذف افزونگی‌های امضا در پژوهش ترکی، توانستیم روش موجود را به ازای مقایسه‌ی دودویی برنامک‌های اندرویدی بهبود بخشیم. همانطور که در شکل ~\رجوع{شکل:مقایسه‌ترکی‌زمان} مشخص‌شده است، استفاده از امضای روش ترکی به دلیل افزونگی زیاد، در مرحله‌ی تشخیص کتابخانه‌های اندرویدی سرعت بسیار پایینی دارد. 
\شروع{شکل}[H]
\centerimg{mine_pairwise_hash_compare}{12cm}
\vspace{1em}
\شرح{مقایسه‌ی میانگین زمان اجرای مراحل ساخت چکیده و مقایسه‌ی چکیده‌ها}
\برچسب{شکل:مقایسه‌بقیه}
\پایان{شکل}
مقایسه‌ی صورت‌گرفته میان روش‌ این پژوهش و پژوهش ترکی با استفاده از تولید تولید امضا و مقایسه‌ی مبتنی بر چکیده‌سازی $Ssdeep$ انجام شده‌است چرا که این روش، چه از نظر دقت مطابق شکل \~رجوع{شکل:} و چه سرعت نتیجه‌ی بهترین نسبت به باقی روش‌ها داشت.با مقایسه‌ی روش‌ پیاده‌سازی شده و روش ترکی متوجه‌شدیم که در بخش تشخیص کتابخانه‌های اندرویدی، به طور میانگین ۳۱۵ گره کم‌تر از مرحله‌ی فیلتر کتابخانه‌ها عبور می‌کنند که این موجب می‌شود تعداد گره‌های گراف دوبخشی نهایی بسیار کمتر از روش آقای ترکی باشد.

   \شروع{شکل}[H]
 \centerimg{mine_pairwise_acc}{12cm}
 \vspace{1em}
 \شرح{مقایسه‌ی دقت و فراخوان روش‌های چکیده‌سازی محلی در پژوهش جاری}
 \برچسب{شکل:مقایسه‌بقیه}
 \پایان{شکل}

 
   \شروع{شکل}[H]
 \centerimg{torki_mine_time_ssdeep}{12cm}
 \vspace{1em}
 \شرح{مقایسه‌ی میانگین زمان اجرای مراحل تشخیص پژوهش جاری با پژوهش ترکی\مرجع{msctorki}}
 \برچسب{شکل:مقایسه‌ترکی‌زمان}
 \پایان{شکل}
همچنین در مرحله‌ی ساخت امضای برنامک، به دلیل جست‌و‌جوی زیاد ناشی از افزونگی آن، تولید امضا در پژوهش جاری به صورت میانگین $10$ ثانیه به طور می‌انجامد. این در حالی‌است که با حذف افزونگی‌های امضا توانستیم زمان تشکیل امضای برنامک‌های اندرویدی را به $4.7$ ثانیه کاهش دهیم. \\
 همانطور که مشاهده‌شد، با حذف افزونگی‌های امضا‌ی برنامک در پژوهش آقای ترکی توانستیم سرعت پژوهش اخیر را بهبود ببخشیم. به علاوه در ابتدای این فصل بیان‌کردیم که هدف از این پژوهش افزایش کارایی پژوهش‌های اخیر، با در نظر گرفتن معیار‌های سرعت و دقت، بوده‌است. بنابراین قربانی نمودن دقت پژوهش در ازای دریافت سرعت بالا منطقی نمی‌باشد و ایجاد یک توازن میان این دو معیار، حیاتی است. بنابراین با حذف افزونگی‌های پژوهش ترکی، نیازمند اضافه‌نمودن ویژگی‌هایی بودیم که در کنار یکتابودن در کلاس‌های برنامک، بتواند بخشی از کارکرد امضای کلاسی در مواقعی که متد‌های کلاس دارای خروجی و ورودی‌های غیرجاوایی هستند را داشته‌باشد. با اضافه‌نمودن ویژگی‌های یکتا و تغییر امضای‌ پژوهش ترکی، در کنار افزایش سرعت تشخیص برنامک‌های بازبسته‌بندی شده، خصوصا در بخش تشخیص کد‌های کتابخانه‌ای، توانستیم دقت پژوهش جاری را به میزان خوبی بالا نگه‌داریم. با مقایسه‌ی برنامک‌های داخل مخزن داده‌ی آزمون، شامل ۱۱۸۱ جفت بازبسته‌بندی شده و غیر تقلبی، روش این پژوهش تنها در موارد مثبت‌غلط نسبت به پژوهش ترکی افت داشته‌است که موجب دقت پایین‌تری نسبت به آن شده‌است. این در حالی‌است که از نظر سرعت اجرا، بهبود ۶ برابری را در تشخیص مشاهده می‌کنیم.\\
 
    \شروع{شکل}[H]
 \centerimg{torki_mine_acc_ssdeep}{12cm}
 \vspace{1em}
 \شرح{مقایسه‌ی دقت و فراخوان پژوهش جاری و ترکی \مرجع{msctorki}}
 \برچسب{شکل:مقایسه‌ترکی‌دقت}
 \پایان{شکل}
 \زیرقسمت{مقایسه‌ی دودویی همراه با طبقه‌بندی}
 در ابتدای بخش 
 \ref{pairwisepure}
 اشاره‌ کردیم که پژوهش انجام‌شده توسط آقای ترکی را می‌توان از دوجنبه‌ی متفاوت بهبود بخشید. از منظر دوم، مقایسه‌ی تمامی برنامک‌های اندرویدی موجود در مخزن به ازای یک برنامک هدف ورودی، روشی زمان‌بر و بیهوده‌است چرا که بسیاری از برنامک‌های اندرویدی داخل مخزن هیچ‌ شباهتی به برنامک ورودی ندارند. به همین جهت ما در این پژوهش از یک مرحله‌ طبقه‌بندی به جهت کاهش فضای مقایسه‌ی دودویی پژوهش آقای ترکی در کنار امضای بهبود داده‌شده استفاده کرده‌ایم. پس از اعمال طبقه‌بند نزدیک‌ترین همسایه بر روی جفت اول و یا دوم از ۷۹۶ جفت برنامک بازبسته‌بندی شده، تنها 19 جفت برنامک، خارج از بازه‌ی ۲۵۰ برنامک نزدیک به
 برنامک هدف قرار گرفته‌اند. به عبارت دیگر، پس از استخراج تمامی ۲۵۰ همسایه‌ی نزدیک به برنامک اندرویدی هدف، از میان جفت‌های بازبسته‌بندی شده، بیش از $97\%$ از آن‌ها،  در بازه‌ی 250 تایی از جفت تقلبی خود قرار گرفته‌اند. به علاوه، برای  $81\%$ از جفت‌های بازبسته‌بندی شده، در هنگام اعمال طبقه‌بندی مبتنی بر نزدیک‌ترین همسایه، کمتر از ۲۰ برنامک با جفت تقلبی خود فاصله داشته‌اند. لازم به ذکر است، بازه‌ی ۲۰ تایی میان برنامک اصلی و برنامک تقلبی ممکن است شامل تعدادی از بسته‌های بازبسته‌بندی شده‌ی دیگری باشد که در لیست داده‌ی آزمون پژوهش که به صورت تصادفی انتخاب شده‌است نباشد. به علاوه، بررسی داده‌های اندروزو بر روی داده‌‌های ۲۲ میلیون برنامک اندرویدی، تمامی برنامک‌های بازبسته‌بندی شده را شامل نمی‌شود و تعدادی از برنامک‌ها در این لیست ۱۵۰۰۰ تایی آورده نشده‌اند. بنابراین، ارزیابی روش، به خصوص در مورد فاصله از جفت تقلبی، می‌تواند بسیار بهتر از ارزیابی فعلی باشد. 
     \شروع{شکل}[H]
 \centerimg{knn-distance}{14cm}
 \vspace{1em}
 \شرح{نمودار فاصله از جفت بازبسته‌بندی شده به ازای تمامی برنامک‌های بازبسته‌بندی شده }
 \برچسب{شکل:فاصله‌نمودار}
 \پایان{شکل}
با استفاده از اجرای طبقه‌بندی بر روی برنامک‌های اندرویدی داخل مخزن، تعداد برنامک‌های مورد بررسی برای هر جفت از ۱۱۸۰ برنامک به ۲۵۰ برنامک نزدیک به خود کاهش پیدا کرد. ارزیابی روش ارائه‌شده مطابق نمودار ~\رجوع{شکل:فاصله‌نمودار} نشان می‌دهد که عملکرد طبقه‌بند نزدیک‌ترین همسایه، برای کاهش فضای مقایسه‌ی دودویی کاملا موثر می‌باشد چرا که فضای مقایسه‌ی دودویی را 80 درصد کاهش داده‌است. علاوه‌ بر این $97\%$ از جقت‌های بازبسته‌بندی شده در فاصبله‌ی ۲۵۰ تایی از برنامک هدف قرار گرفته‌اند که موجب می‌شود طبقه‌بندی و اجرای مقایسه‌ی دودویی روی همسایه‌ها نزدیک، با توجه به بهبود سرعت امضا، منجر به افزایش سرعت مقایسه‌ی دودویی در کنار حفظ دقت پژوهش‌های اخیر گردد. \\
به‌جهت مقایسه‌ی زمانی پژوهش جاری و مقایسه‌ی دودویی معمول موجود در پژوهش آقای ترکی، فرض کنید که اجرا و مقایسه‌ی هر جفت برنامک مطابق با شکل ~\رجوع{شکل:مقایسه‌ترکی‌زمان}  به ترتیب ۲۴ ثانیه و ۱۲۶ ثانیه زمان خواهد برد. در این صورت در مقایسه‌ی دودویی پژوهش صورت‌گرفته در روش آقای ترکی، برای یافتن جفت بازبسته‌بندی نیازمند صرف 148000 ثانیه زمان هستیم. این در حالی‌است که زمان میانگین مورد نیاز در پژوهش جاری، با توجه به میانگین فاصله‌ی برنامک از جفت بازبسته‌بندی شده که عدد ۱۶ می‌باشد، ۳۸۴ ثانیه‌است که اختلاف معناداری را به جهت مقایسه‌ی برنامک‌های اندرویدی ایجاد می‌کند. 

\قسمت{تحلیل و جمع‌بندی عملکرد روش پیشنهادی}
به طور کلی پژوهش جاری، پژوهش آقای وانگ \مرجع{phdwang} و آقای ترکی \مرجع{msctorki} را می‌توان در دسته‌ی روش‌های مبتنی بر تحلیل ایستا با استفاده از ویژگی‌های کد‌پایه به حساب آورد. هدف اصلی پژوهش وانگ، ارائه‌ی ابزاری به جهت تشخیص کد‌های کتابخانه‌ای با استفاده از مقایسه‌ی دودویی ویژگی‌های کلاسی و یافتن کلاس‌های کتابخانه‌ای بوده‌است. استفاده از ایده‌ی ایجاد نگاشت میان کلاس‌های کتابخانه‌ای و کلاس‌های برنامک اولین بار در پژوهش آقای وانگ عنوان شده‌است و در ادامه توسط آقای ترکی با استفاده از فیلتر‌های طول‌ امضا و ساختاری، بهبود پیدا کرده‌است. بنابراین پژوهش آقای وانگ را می‌توان سنگ‌بنای تشخیص کد‌های کتابخانه‌ای در پژوهش ترکی و پژوهش جاری محسوب نمود. اما با توجه به تمرکز هر دو پژوهش، بهبود محسوسی در هیچ‌کدام از آن‌ها در قسمت تشخیص برنامک‌های بازبسته‌بندی شده مشاهده نشده است. هر دو پژوهش از همان ایده‌ی پرهزینه‌ی مطروحه در قسمت شباهت‌سنجی دودویی میان کلاس‌های برنامک و در نهایت شباهت‌سنجی کل برنامک‌های داخل مخزن با تمامی برنامک‌های دیگر استفاده کرده‌اند. علاوه بر این، از آن‌جایی که بسیاری از وابستگی‌های کلاسی نظیر وابستگی‌ کلاس فرزند به کلاس پدر، کلاس‌های درونی و بیرونی و واسط‌های پیاده‌سازی شده، در پژوهش آقای ترکی به جهت افزایش دقت در تشخیص کد‌های کتابخانه‌ای اضافه شده‌است بنابراین حجم امضای برنامک‌های اندرویدی در این پژوهش نسبت به پژوهش وانگ افزایش قابل توجهی داشته‌است زیرا امضای برنامک، جزئیات بیشتری از هر قسمت را با خود به همراه دارد. گرچه با استفاده از ایده‌ی فیلتر طول امضا در پژوهش آقای ترکی سعی شده‌ تا قسمتی از این افزونگی‌داده حل‌شود اما هم‌چنان  مقایسه‌ی امضای کلاس‌ها در قسمت نگاشت میان کلاس‌های کتابخانه‌ای بسیار پرهزینه‌ است. ایده‌ی دیگری که در پژوهش آقای ترکی استفاده شده‌است، تطابق امضای متد‌ها در گراف فراخوانی‌ میان متد‌ها است که در پژوهش آقای وانگ به آن توجهی نشده‌است. استفاده از گراف فراخوان متد، موجب می‌شود تا امضای متد‌هایی که به صورت ایستا مبهم شده‌اند و داخل گراف فراخوان نیستند ساخته نشود. 

تمرکز این پژوهش بر روی بهبود کارایی در قسمت تشخیص برنامک‌های اندرویدی بازبسته‌بندی شده بوده‌است. اگر چه بهبود امضای کلاس‌های برنامک و کاهش افزونگی‌های موجود در امضای کلاسی حاصل از پژوهش ترکی موجب شده‌است بخش تشخیص کد‌های کتابخانه‌ای نیز بهبود پیدا کند اما حذف افزونگی‌های موجود در پژوهش ترکی با استفاده از جایگزینی ویژگی‌های طولانی با ویژگی‌های مختصر اما یکتا باعث‌شده است تا در قسمت مقایسه‌ی دودویی برنامک ها افزایش سرعت ۶ برابری داشته‌باشیم. علی‌رغم افزایش سرعت، همچنان ایده‌ی مقایسه‌ی دودویی یک برنامک با تمامی برنامک‌های داخل مخزن به جهت یافتن جفت تقلبی آن بیهوده‌ و زمان‌بر به نظر می‌رسید. برای حل این مشکل، از یک ایده‌ی طبقه‌بندی استفاده شد. با استفاده از یک طبقه‌بند نزدیک‌ترین همسایه و ویژگی‌های مبتنی بر منابع برنامک‌های اندرویدی، مشکوک‌ترین برنامک‌ها را از داخل مخزن انتخاب و مقایسه‌ی آن‌ها را انجام می‌دهیم. طبقه‌بندی گرچه موجب کاهش یک درصدی دقت شده‌است، اما فضای مقایسه‌ی برنامک‌های اندرویدی را ۵ برابر کاهش داده‌ که از نظر پژوهش مقرون به صرفه ‌می‌باشد.

از نظر دسته‌بندی در روش‌های ایستا، پژوهش جاری را می‌توان ترکیبی از روش‌های مبتنی بر گراف و مبتنی بر منابع برنامک با استفاده از ویژگی‌های آن‌ دانست. در این پژوهش برای تشکیل امضا از فراخوانی‌های موجود در گراف فراخوانی متد‌، واسط‌های برنامه‌نویسی و مجموعه‌ای از ویژگی‌های کد‌پایه استفاده شده‌است که تمامی آن‌ها در دسته‌ی تحلیل ایستا قرار می‌گیرند. از طرفی برای طبقه‌بندی از ویژگی‌های مبتنی بر منابع برنامک استفاده ‌شده‌است چرا که منابع برنامک‌های اندرویدی تمایز درشت‌دانه میان برنامک‌ها برقرار می‌سازند.














